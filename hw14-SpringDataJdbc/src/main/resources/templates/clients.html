<html xmlns="http://www.w3.org/1999/xhtml" content="text/html;">
<head>
    <meta charset="UTF-8"/>
    <title>Клиенты</title>
</head>
<script th:src="@{/js/validateForm.js}"> </script>
<script th:src="@{/js/saveClient.js}"> </script>

<body>
<form id="clientForm" method="post" action="clients">
    <h4>Создать нового клиента</h4>
    <p><input type="text" id="name" placeholder="Введите имя" required></p>
    <p><input type="text" id="address" placeholder="Введите адрес" required></p>
    <p><input type="text" id="phone1" placeholder="Введите телефон" required></p>
    <p><input type="text" id="phone2" placeholder="Введите доп. телефон" required></p>
    <button type="button" onclick="saveClient()">Сохранить</button>
</form>

<h4>Клиенты</h4>
<table class="clients">
    <thead>
    <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Address</th>
        <th>Phones</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="client : ${clients}">
        <td th:text="${client.id}"></td>
        <td th:text="${client.name}"></td>
        <td th:text="${client.address.street}"></td>
        <td th:each="phone,iterStat : ${client.phones}" th:text="${phone.number} + ${!iterStat.last ? ', ' : ''}"></td>
    </tr>
    </tbody>
</table>
</body>
</html>
